.LIB CROSSOVER
PTR	= $10
.PAGE 'TEST ROUTINES'
.SKI 2
MAIN	SEI             ;DISABLE INTS
	LDA #2          ;EXECUTE IN SEG 2
	JSR GARBG
	.BYTE 0,0       ;RETURN TO MONITOR
;
GARBG	STA E6509       ; GONE!
	LDA #<IRQ       ;STORE IRQ VECTOR
	STA $FFFE
	LDA #>IRQ
	STA $FFFF
	LDA #0
	STA PTR
	LDA #$20
	STA PTR+1
	CLI
;
	LDY #0
	LDX #1
	STX I6509
	LDA #$20
LOOP1	STA (PTR)Y
	INY
	BNE LOOP1
	INC PTR+1
	LDA PTR+1
	CMP #$30
	BCC LOOP1
;
OMSG	LDX #0
LOOP2	LDA MSG,X
	BEQ DONE
	JSR BSOUT
	INX
	BNE LOOP2
DONE	LDA #$0F
	.BYTE 0,0       ;RETURN
.SKI 3
MSG	.BYTE 'THREE BLIND MICE',0
.SKI 3
BSOUT	JSR RSAVE       ;SAVE MACHINE STATE
	LDA #$D2        ;ADDR (LO)
	LDX #$FF        ;ADDR (HI)
	LDY #$0F        ;SEGNO
	JSR XOVER
	LDA XI6509      ;RESTORE I6509
	STA I6509
	JMP RLOAD       ;RESTORE RETURN VALUES...
;
.END
