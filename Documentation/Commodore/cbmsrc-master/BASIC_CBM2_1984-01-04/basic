;       *****************************************
;       *                                       *
;       *       COMMODORE PET BASIC             *
;       *                                       *
;       *           VERSION 4.0+                *
;       *     COPYRIGHT 1984 BY                 *
;       *    COMMODORE INTERNATIONAL LIMITED    *
;       *                                       *
;       *    LISTING DATE: 1/5/84               *
;       *    ROMS PRODUCED: 901240-04A          *
;       *                   901241-04A          *
;       *                   901242-03A          *
;       *                   901243-03A          *
;       *****************************************
.SKI 4
;       VERSION 1 - AUGUST 1977
;       ORIGINAL MICROSOFT RELEASE
;
;       VERSION 2 - AUGUST 1978
;       FIXED MANY BUGS SOME ARE
;       1) ARRAYS LIMITED TO 255
;       2) NON-INTERRUPTABLE CODE
;       3) GARBAGE COLLECT STRINGS
;
;       VERSION 3 - MAY 1979
;       FASTER GARBAGE COLLECT
;
;       VERSION 4 - JULY 1979
;       1) EXPAND RESERVED WORDS
;       2) ADD DISK COMMANDS
;       3) ADD DISK STATUS VARS.
;
;       VERSION 4X - MAY, 1980
;       1) SEPARATE OUT KERNAL
;       2) SET-UP KERNAL INTERFACE
;       3) REMOVE ALL KERNAL DIRECT CELL USAGE
;
;      VERSION 4.7 - OCTOBER, 1981
;       1) BANK RELATED COMMANDS
;       2) COPY LITERAL STRINGS TO STRING SPACE
;       3) INDIRECT INPUT BUFFER
;       4) COPY FBUFFR TO STRINGS
;       5) CHRGOT BY INDIRECT
;       6) PRINT MESSAGES DIRECT
;
;
;      VERSION 4.73 - NOVEMBER, 1981
;       64K VERSION
;       1) FLOATING POINT MOVE & BANK MAPPING ROUTINES
;       2) TEMP STRING DESCRIPTOR POINTERS MOVED TO
;          TOP OF "USER" MEMORY.
;       3) DS$ STRING AREA ALLOCATED PERMANENTLY AT
;          TOP OF "USER" MEMORY.
;       4) THREE BYTE POINTERS (THIRD BYTE IS BANK#)
;          FOR:
;                STRING DESCRIPTOR POINTERS(BACK LINKS TOO)
;                STRING POINTERS
;                VARIABLE POINTERS
;          STRING DESCRIPTOR POINTERS.
;       5) USER MEMORY COPY OF "ZERO" OCCUPIES 4 NULL
;          BYTES PRECEDING USER TEXT AREA.
;
;
;      VERSION 4.74 - DECEMBER, 1981
;       1) USER-DEFINED FUNCTIONS: FORMAL PARAM.
;          PTR USES 3 BYTES
;       2) TI$,TI WITH NEW KERNAL INTERFACE
;
;      VERSION 4.75 - JANUARY 7,1982
;       1) EXTENSIONS FOR 64K,128K,192K,256K
.PAG
CODFWA	=$8000          ;SAVE CODE FIRST WORD ADDRESS
FALSE	=0
TRUE	=255
ROMLOC	=$8000          ;START OF ROM
ROMC	=TRUE
DEBUG	=TRUE
GDEBUG	=FALSE          ;GARBAGE DEBUG
NKRNL	=TRUE           ;USING NEW KERNEL
.PAG
;       ASSEMBLY CONSTANTS AND PARAMETERS
;
PGMKEY	=$FF75          ;PROGRAM FUNCTION KEYS
VECORG	=$FF7B          ;JUMP VECTOR
.SKI 4
CR	=$D             ;CARRIAGE RETURN
LF	=$A             ;LINE FEED
CLRSCR	=147            ;CLEAR PET SCREEN
HOME	=197            ;HOME PET SCREEN
EOM	=$80            ;INDICATE END OF MESSAGE
.SKI 4
FORSIZ	=19
NUMLEV	=26             ;MAXIMUM NUMBER OF CALLS TO GETSTK
BUFSIZ	=161
ADDPRC	=1
ADDPR2	=ADDPRC+ADDPRC
ADDPR4	=ADDPR2+ADDPR2
ADDPR8	=ADDPR4+ADDPR4
STKEND	=$1FB           ;FIRST BYTE USED FOR STACK
CLMWID	=10
PI	=$FF
STRSIZ	=4 ;# OF LOCS PER STR DESCRIPTOR
PTRSIZ	=3 ;# OF LOCS PER POINTER
NUMTMP	=3 ;# OF STRING TEMPORARIES
.SKI 3
;          BANK EQUATES
SYSBNK	=$0F            ;SYSTEM BANK#
MXBANK	=SYSBNK+1       ;1ST BANK OUT OF RANGE
	.IFN CC1 <
TXTBNK	=0+BF           ;TEXT BANK       *ONE*
VARBNK	=0+BF           ;SIMPLE VARIABLE BANK
ARYBNK	=0+BF           ;ARRAY BANK
STRBNK	=0+BF           ;STRING BANK
>
	.IFN   CC2 <
TXTBNK	=0+BF           ;TEXT BANK       *TWO*
VARBNK	=1+BF           ;SIMPLE VARIABLE BANK
ARYBNK	=1+BF           ;ARRAY BANK
STRBNK	=1+BF           ;STRING BANK
>
	.IFN   CC3 <
TXTBNK	=0+BF           ;TEXT BANK       *THREE*
VARBNK	=2+BF+BF        ;SIMPLE VARIABLE BANK
ARYBNK	=1+BF           ;ARRAY BANK
STRBNK	=2+BF+BF        ;STRING BANK
>
	.IFN   CC4 <
TXTBNK	=0+BF           ;TEXT BANK        *FOUR*
VARBNK	=3              ;SIMPLE VARIABLE BANK
ARYBNK	=1+BF           ;ARRAY BANK
STRBNK	=2+BF+BF        ;STRING BANK
>
.SKI 4
;       DOS INTERFACE EQUATES.
DOSFNL	=16+2           ;FILENAME LENGTH
DOSDSK	=8 ;DISK DEVICE #
DOSLFN	=14             ;DOS INTERNAL LOGICAL FILE NUMBER
DOSCTL	=21             ;DOS DIRECTORY LINES BEFORE PROMPT
DOSLST	=DOSFNL+DOSFNL+DOSFNL+16 ;(DOSFNL+2)*3+10 --TRANSMIT BUFFER LENGTH
;.LIB BASDOC
.LIB BDEFINE
.LIB TOKENS
.LIB CONTRL
.LIB BVERBS1
.LIB BVERBS2
.LIB BVERBS3
.LIB MATH1
.LIB MATH2
.LIB MATH3
.LIB MATH4
.LIB STRNG1
.LIB STRNG2
;.LIB RENUMBER
.LIB DELETE
	.IFN CC2+CC3+CC4 <
.LIB USING
>
.LIB BUTES1
.LIB BUTES2
.LIB INIT
.LIB SYSCAL
.LIB PATCHES
.LIB SYSVEC
.END
